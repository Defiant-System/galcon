
background: #000;
overflow: visible;

content {
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	border-radius: inherit;
	line-height: 1.35;
	font-family: "Michroma", sans-serif;
	font-size: 20px;
	color: #aaa;

	&[data-show="intro"] {
		> div[data-area="intro"] {
			opacity: 1;
			visibility: visible;
		}
	}

	&[data-show="tutorial"] {
		> div[data-area="tutorial"],
		> div[data-area="stage"] {
			opacity: 1;
			visibility: visible;
		}
	}

	&[data-show="stage"] {
		> div[data-area="stage"] {
			opacity: 1;
			visibility: visible;
		}
	}

	&.paused .game-bg:before {
		animation-play-state: paused;
	}

	h1 {
		font-family: "Michroma", sans-serif;
		font-size: 52px;
		color: #fff;
		margin: 0 auto 11px;
	}

	h2 {
		font-size: 40px;
		color: #fff;
		margin: 0 auto 11px;
	}

	h3 {
		font-size: 32px;
		color: #fff;
		margin: 0 auto 11px;
	}

	p {
		padding-bottom: 15px;
	}

	canvas {
		position: absolute;
		top: 0;
		left: 0;
		width: 100%;
		height: 100%;
	}

	> div {
		opacity: 0;
		visibility: hidden;
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		z-index: 2;

		&.game-bg {
			z-index: 1;
			opacity: 1;
			visibility: visible;
			overflow: hidden;

			&:before {
				content: "";
				position: absolute;
				top: -300px;
				left: -150px;
				width: 1100px;
				height: 1100px;
				background: 50% 50%/contain no-repeat;
				animation: rotate_bg_ccw 1080s linear infinite;
			}
			
			&[data-bg="01"]:before { background-image: url(~/img/bg-01.jpg); }
			&[data-bg="02"]:before { background-image: url(~/img/bg-02.jpg); }
			&[data-bg="03"]:before { background-image: url(~/img/bg-03.jpg); }
			&[data-bg="04"]:before { background-image: url(~/img/bg-04.jpg); }
			&[data-bg="06"]:before { background-image: url(~/img/bg-06.jpg); }
		}

		&[data-area="intro"] {
			padding: 53px 73px;
			text-align: center;

			h1 {
				width: 700px;
				text-shadow: 0 2px 5px rgba(#000,.5);
				letter-spacing: 1px;
				color: rgba(#fff,.4);
				background: #222 -webkit-gradient(linear, left top, right top, from(#222), to(#222), color-stop(0.5, #fff)) 0 0 no-repeat;
				-webkit-background-size: 150px;
				-webkit-background-clip: text;
				-webkit-animation: shine 3s infinite;
			}
		}

		&[data-area="tutorial"] {
			min-height: 0;
			transition: min-height 400ms;

			&.switch-fade {
				min-height: 1px;
			}
			
			> div {
				position: absolute;
				top: 0;
				left: 0;
				right: 0;
				bottom: 0;
				padding: 53px 73px;
				opacity: 0;
				visibility: hidden;
				text-align: center;
				pointer-events: none;
				transition: opacity 350ms ease-in-out;
			}

			&.show-step-1 {
				&.switch-fade {
					.step-1 {
						opacity: 0;
					}

					.step-2 {
						opacity: 1;
						visibility: visible;
						transition-delay: 400ms;
					}
				}

				.step-1 {
					opacity: 1;
					visibility: visible;
				}

				.step-2,
				.step-3 { opacity: 0; }
			}

			&.show-step-2 {
				&.switch-fade {
					.step-2 {
						opacity: 0;
					}

					.step-3 {
						opacity: 1;
						visibility: visible;
						transition-delay: 400ms;
					}
				}

				.step-2 {
					opacity: 1;
					visibility: visible;
				}

				.step-1,
				.step-3 { opacity: 0; }
			}

			&.show-step-3 {
				&.switch-fade {
					.step-3 {
						opacity: 0;
					}
				}

				.step-3 {
					opacity: 1;
					visibility: visible;
				}

				.step-1,
				.step-2 { opacity: 0; }
			}
		}

		&[data-area="stage"] {
			transition: opacity 500ms ease-in-out;

			&.fadeout {
				opacity: 0;
			}

			&.fadein {
				opacity: 1;
			}

			.planet {
				position: absolute;
				box-shadow: inset -3px -1px 3px rgba(#fff,.1);
				border-radius: 50%;

				&.human {
					cursor: pointer;
				}
				&.ai {}
				&.neutral {}
			}
		}
	}
}

// animations
@keyframes rotate_bg_cw {
	0%   { transform: rotate(0deg); }
	100% { transform: rotate(360deg); }
}

@keyframes rotate_bg_ccw {
	0%   { transform: rotate(360deg); }
	100% { transform: rotate(0deg); }
}

@keyframes shine {
	0%, 10% { background-position: -600px; }
	20% { background-position: top left; }
	90% { background-position: top right; }
	100% { background-position: 600px; }
}


/* latin */
@font-face {
	font-family: 'Michroma';
	font-style: normal;
	font-weight: 400;
	font-display: swap;
	src: url(~/fonts/Michroma.woff2) format('woff2');
	unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

